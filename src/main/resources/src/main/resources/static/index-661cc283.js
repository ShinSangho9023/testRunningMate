import{ae as me,a6 as pe,af as Ce,r as t,x as ve,j as i,c as j,U as he,ag as xe,a8 as ye,ac as be}from"./index-81b59d9c.js";import{i as U,t as ge}from"./toString-3a1f86d3.js";import{A as Me}from"./index-05ad3fed.js";import{m as we}from"./Views-a075d396.js";import{m as ie,n as ae,t as Ee,r as Ie}from"./CloseButton-a9d506d9.js";function je(e,n){var s=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(s!=null){var o,d,r,l,a=[],m=!0,p=!1;try{if(r=(s=s.call(e)).next,n===0){if(Object(s)!==s)return;m=!1}else for(;!(m=(o=r.call(s)).done)&&(a.push(o.value),a.length!==n);m=!0);}catch(v){p=!0,d=v}finally{try{if(!m&&s.return!=null&&(l=s.return(),Object(l)!==l))return}finally{if(p)throw d}}return a}}function Je(e,n){return me(e)||je(e,n)||pe(e,n)||Ce()}const ee=t.createContext(null),Ne=ee.Provider;function le(e){const n=t.useRef(null);return e||n}const V=t.createContext({}),ce=V.Provider;V.Consumer;function ne(e){const[n,s]=t.useState(!1),[o,d]=t.useState([]),[r,l]=t.useState(null),a=t.useRef(null),m=t.useCallback((c,u)=>{d(y=>[...y,{element:c,props:u}])},[]),p=t.useCallback(c=>{d(u=>u.filter(y=>{var h;return((h=y==null?void 0:y.element)==null?void 0:h.id)!==c}))},[]),v=t.useCallback(()=>{requestAnimationFrame(()=>{var c;document.activeElement!==e.current&&(a.current=document.activeElement,(c=e.current)==null||c.focus())})},[e]),C=t.useCallback(c=>{const u=o.indexOf(c);u!==-1&&(l(u),v())},[o,v]),f=t.useCallback((c,u)=>{var y;for(let h=c;h>-1&&h<o.length;h+=u)if(!((y=o[h].props)!=null&&y.disabled))return h;return null},[o]),b=t.useCallback(c=>{if(U(c))l(null),v();else{let u;c===0?u=f(0,1):c===-1&&(u=f(o.length-1,-1)),U(u)||C(o[u])}},[o,C,v,f]),M=t.useCallback(()=>{s(!0),v()},[v]),w=t.useCallback(()=>{s(!1),l(null),requestAnimationFrame(()=>{var c;(c=a.current)==null||c.focus()})},[]);return{open:n,items:o,activeItemIndex:r,registerItem:m,unregisterItem:p,focusItemAt:b,openMenu:M,closeMenu:w}}var De=ge,ke=0;function Ae(e){var n=++ke;return De(e)+n}var Se=Ae;const Te=ve(Se),Pe=(e=10)=>{const n=[],s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",o=s.length,d=e;for(let r=0;r<d;r++)n[r]=s.charAt(Math.floor(Math.random()*o));return n.join("")};function q(e="",n=10){const s=t.useRef();return s.current||(s.current=`${Te(e)}-${Pe(n)}`),s.current}const Z=t.forwardRef((e,n)=>{const{children:s,activeKey:o,onSelect:d,hidden:r,placement:l,menuClass:a,...m}=e,p=le(n),v=q("menu-"),C=ne(p),f=c=>{const u=`rotateX(${c}deg)`;return l&&l.includes("center")?`${u} translateX(-50%)`:u},b={opacity:1,visibility:"visible",transform:f(0)},M={opacity:0,visibility:"hidden",transform:f(40)},w=M;return i.jsx(Ne,{value:{activeKey:o,onSelect:d},children:i.jsx(ce,{value:C,children:i.jsx(Me,{mode:"wait",children:!r&&i.jsx(we.ul,{ref:p,id:v,initial:w,animate:b,exit:M,transition:{duration:.15,type:"tween"},className:a,...m,children:s})})})})});Z.displayName="DropdownInnerMenu";function L(...e){return e.filter(n=>n!==null&&typeof n<"u").reduce((n,s)=>{if(typeof s!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return n===void 0?s:function(...d){n.apply(this,d),s.apply(this,d)}},void 0)}const X=t.createContext(null);X.Provider;X.Consumer;const _=t.forwardRef((e,n)=>{const{asElement:s="div",children:o,className:d,disabled:r,eventKey:l,isActive:a,menuItemHeight:m=35,onSelect:p,style:v,variant:C="light",...f}=e,b="menu-item-active",M="menu-item-hoverable",w="menu-item-disabled",c=j("menu-item",`menu-item-${C}`,a&&b,r&&w,!r&&M,d),u=y=>{p&&p(l,y)};return i.jsx(s,{ref:n,className:c,style:{height:`${m}px`,...v},onClick:u,...f,children:o})});_.displayName="BaseMenuItem";const{DEFAULT:Ke,DIVIDER:oe,HEADER:z,CUSTOM:G}=xe,te=t.forwardRef((e,n)=>{const{asElement:s="li",children:o,active:d,disabled:r,className:l,submenu:a,style:m,eventKey:p,onClick:v,onSelect:C,variant:f=Ke,...b}=e,{mode:M,direction:w}=he(),c=le(n),u=q("menu-item-"),y=t.useRef(null),h=t.useContext(X),x=t.useContext(ee),B=t.useContext(V),g=ne(y),O=g.open,I=d||!U(x==null?void 0:x.activeKey)&&(x==null?void 0:x.activeKey)===p||!U(h==null?void 0:h.activeKey)&&(h==null?void 0:h.activeKey)===p,N=t.useCallback(()=>{a&&(g.openMenu(),g.focusItemAt(0))},[a,g]),R=t.useCallback(T=>{var $;C==null||C(p,T),($=x==null?void 0:x.onSelect)==null||$.call(x,p,T)},[p,C,x]),W=t.useCallback(T=>{r||(a?N():R(T))},[r,a,N,R]),E=t.useCallback(()=>{a&&g.openMenu()},[a,g]),F=t.useCallback(()=>{a&&g.closeMenu()},[a,g]),D={onClick:L(W,v)},{registerItem:A,unregisterItem:S}=B??{};if(a&&(D.onMouseOver=E,D.onMouseOut=F),t.useEffect(()=>(f!==oe&&f!==z&&(A==null||A(c.current,{disabled:r})),()=>{S==null||S(u)}),[A,S,c,u,r,f]),f===oe||f===z||f===G)return i.jsx(s,{ref:c,id:u,style:m,className:j(`menu-item-${f}`,l),...f===G?D:{},...b,children:(f===z||f===G)&&o});function K(){return t.isValidElement(o)?t.cloneElement(o):o}function k(){return a?i.jsx(ce,{value:g,children:t.cloneElement(a,{ref:y,hidden:!O})}):null}return a?i.jsxs("li",{...b,style:m,className:"relative",...D,children:[i.jsxs(_,{ref:c,asElement:"div",id:u,isActive:I,eventKey:p,variant:M,className:j("dropdown-submenu-item",l),children:[i.jsx("span",{children:o}),w==="rtl"?i.jsx(ie,{}):i.jsx(ae,{})]}),k()]}):i.jsxs(_,{ref:c,asElement:"li",style:m,isActive:I,disabled:r,eventKey:p,variant:M,className:l,...D,...b,children:[K(),k()]})});te.displayName="DropdownItem";const se=t.forwardRef((e,n)=>{const{eventKey:s,title:o,className:d,placement:r,...l}=e,a=t.useContext(ee),m="dropdown-menu",v=j(m,r,d),C=j(m,"dropdown-submenu"),f=i.jsx(Z,{ref:n,className:C,placement:r,...l});if(a){const b=j(d);return i.jsx(te,{className:b,submenu:f,eventKey:s,children:o})}return i.jsx(Z,{ref:n,className:v,placement:r,...l})});se.displayName="DropdownMenu";const He=({placement:e,children:n})=>e&&e.includes("middle-start")?i.jsxs(i.Fragment,{children:[n,i.jsx(ae,{})]}):e&&e.includes("middle-end")?i.jsxs(i.Fragment,{children:[i.jsx(ie,{}),n]}):e&&e.includes("top")?i.jsxs(i.Fragment,{children:[n,i.jsx(Ee,{})]}):i.jsxs(i.Fragment,{children:[n,i.jsx(Ie,{})]}),ue=t.forwardRef((e,n)=>{const{className:s,renderTitle:o,children:d,placement:r="bottom-start",disabled:l,toggleClassName:a,...m}=e,C=j("dropdown-toggle",s,a,l&&"dropdown-toggle-disabled"),f=j(C,"dropdown-toggle-default");return o?i.jsx("div",{className:C,...m,ref:n,children:o}):i.jsx("div",{ref:n,className:f,...m,children:i.jsx("span",{className:"flex items-center",children:i.jsx(He,{placement:r,children:d})})})});ue.displayName="DropdownToggle";const re=(e,n)=>{if(e.contains)return e.contains(n);if(e.compareDocumentPosition)return e===n||!!(e.compareDocumentPosition(n)&16);if(n)do if(n===e)return!0;while(n=n.parentNode);return!1},Le=e=>e&&("current"in e?e.current:e);function J(e){const n=(e==null?void 0:e.root)||(e==null?void 0:e.child)||Le(e);return n!=null&&n.nodeType&&typeof(n==null?void 0:n.nodeName)=="string"?n:ye.findDOMNode(n)}function Oe(e){return(e==null?void 0:e.button)===0}function Re(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e!=null&&e.shiftKey)}function Fe(e,n,s,o=!1){return e.addEventListener(n,s,o),{off(){e.removeEventListener(n,s,o)}}}function $e(e,{disabled:n,triggerTarget:s,overlayTarget:o}){const d=t.useCallback(r=>{const l=J(s),a=J(o);l&&re(l,r.target)||a&&re(a,r.target)||Re(r)||!Oe(r)||e==null||e(r)},[e,s,o]);t.useEffect(()=>{const r=J(s);if(n||!r)return;const a=Fe((()=>r&&r.ownerDocument||document)(),"mousedown",d,!0);return()=>{a==null||a.off()}},[s,n,e,d])}function Q(e,n){return Array.isArray(n)?n.indexOf(e)>=0:e===n}const{BOTTOM_START:Ue}=be,qe="click",Ve="hover",Xe="context",de=t.forwardRef((e,n)=>{const{title:s,children:o,menuClass:d,menuStyle:r,disabled:l,renderTitle:a,placement:m=Ue,activeKey:p,toggleClassName:v,trigger:C="click",style:f,onClick:b,onMouseEnter:M,onMouseLeave:w,onContextMenu:c,onSelect:u,onOpen:y,onClose:h,onToggle:x,...B}=e,g=t.useRef(null),O=t.useRef(null),I=ne(g),N=I.open,R=q("dropdown-toggle-"),W=q("base-menu-"),E=t.useCallback(P=>{const H=typeof P>"u"?!N:P,Y=H?y:h;Y==null||Y(),x==null||x(H),H?I.openMenu():I.closeMenu()},[h,y,x,N,I]),F=t.useCallback(P=>{P.preventDefault(),!l&&E()},[l,E]),D=t.useCallback(()=>{l||E(!0)},[l,E]),A=t.useCallback(()=>{l||E(!1)},[l,E]),S=(P,H)=>{u==null||u(P,H),E(!1)};$e(()=>E(),{triggerTarget:O,overlayTarget:g,disabled:!N,listenEscape:!1});const K={onMouseEnter:M,onMouseLeave:w},k={onClick:b,onContextMenu:c};Q(qe,C)&&(k.onClick=L(F,k.onClick)),Q(Xe,C)&&(k.onContextMenu=L(F,c)),Q(Ve,C)&&(K.onMouseEnter=L(D,M),K.onMouseLeave=L(A,w));const T=i.jsx(ue,{...B,...k,ref:O,id:R,className:v,renderTitle:a,disabled:l,placement:m,children:s}),$=i.jsx(se,{ref:g,className:d,style:r,activeKey:p,hidden:!N,placement:m,id:W,onSelect:S,children:o});return i.jsx(X.Provider,{value:{activeKey:p},children:i.jsxs("div",{...K,ref:n,style:f,className:"dropdown",children:[T,i.jsx(V.Provider,{value:I,children:$})]})})});de.displayName="Dropdown";const fe=de;fe.Item=te;fe.Menu=se;export{fe as D,_ as M,Je as _,q as a,L as c,$e as u};
